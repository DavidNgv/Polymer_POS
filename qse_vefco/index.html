<!DOCTYPE html>
<html>
<head>
  <meta charset="ISO-8859-1">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=no">

  <!-- Add to homescreen meta -->

  <!-- Add to homescreen for Chrome on Android -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <!-- 1. Load platform support before any code that touches the DOM. -->
    <link rel="import" href="bower_components/core-animated-pages/core-animated-pages.html">
    <link rel="import" href="bower_components/core-selector/core-selector.html">

    <link rel="import" href="bower_components/more-routing/more-route-selector.html">

    <link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
    <link rel="import" href="bower_components/core-icons/core-icons.html">
    <link rel="import" href="bower_components/core-icon-button/core-icon-button.html">
    <link rel="import" href="bower_components/paper-button/paper-button.html">

    <link href="bower_components/paper-dialog/paper-dialog.html" rel="import">
    <link href="bower_components/paper-dialog/paper-action-dialog.html" rel="import">


    <link rel="stylesheet" href="css/global.css">

    <script src="http://code.jquery.com/jquery.min.js"></script>
    <script src="jaydata-1.3.6/jaydata.js"></script>

    <script type="text/javascript" src="cordova.js"></script>
    
    
    <link rel="import" href="qse_vefco/routes.html">

    <link rel="import" href="qse_vefco/page-login.html">
    <link rel="import" href="qse_vefco/page-loading.html">
    <link rel="import" href="qse_vefco/page-index.html">
    <link rel="import" href="qse_vefco/page-presqu-accident.html">

    <style type="text/css">
      core-toolbar {
        background-color: white;
      }


    </style>
</head>
<body unresolved fullbleed layout vertical>
    <template is="auto-binding" id="app">

      <!--
      more-routing exposes a `urlFor` helper that will construct a URL for a
      particular route (and params).
      -->
      <!-- <a href="{{urlFor('login')}}" class="header" paper-font-style="display-2">Jodomax</a> -->
      <core-toolbar>
        <!-- <core-icon-button icon="menu"></core-icon-button> -->
        <img src="images/logo-vinci-energies_small.png">

        <span flex></span>
        <div layout vertical>
          <div style="text-align: center;">prenom.nom</div>
          <paper-button affirmative on-tap="{{logout}}">D&eacute;connexion</paper-button>
        </div>

      </core-toolbar>


      <div class="app-content" paper-font-style="body-1">
        <!--
        `more-route-selector` manages any element that extends `core-selector`,
        allowing you to associate each with a route. By default, it looks for
        the `route` attribute on each item in the `core-selector`. You can see
        an example of that default behavior in `polyfora-user.html`.

        In this example, we have opted to construct our base pages such that
        they declare _routing contexts_. Each element declares the route that it
        represents, and `more-route-selector` uses this to select the correct
        route to display.

        See each page's `<more-route context ...>`.
        -->
        <more-route-selector selectedParams="{{params}}">
          <core-animated-pages>
            <page-login></page-login>
            <page-loading></page-loading>
            <page-index></page-index>
            <page-presqu-accident></page-presqu-accident>
          </core-animated-pages>
        </more-route-selector>

      </div>

    </template>

    <script type="text/javascript">
      console.log('come here');

      var app = document.querySelector('#app');

      addEventListener('template-bound', function(ev) {
        MoreRouting.navigateTo('login');

        setTimeout(function() {
          MoreRouting.navigateTo('loading');
        }, 1000);

        setTimeout(function() {
          MoreRouting.navigateTo('index');
        }, 2000);
      });

      app.logout = function() {
        MoreRouting.navigateTo('login');
      }

    </script>
</body>